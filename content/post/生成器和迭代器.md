---

title: "生成器和迭代器"
date: 2019-10-26T10:00:00
lastmod: 2019-10-26T10:00:00
timezone: UTC+8
draft: false
tags: ["Lists and collections", "Code"]
categories: ["Code"]
author: "zyscn"

---
# Iterators and generators

## Reverse generator

```python
def reverse(data):  
current = len(data)  
while current >= 1:  
current -= 1  
yield data[current]  
  
for c in reverse("string"):  
print(c)  
# printed: g, n, i, r, t, s  
  
for i in reverse([1, 2, 3]):  
print(i)  
# printed: 3, 2, 1
```

```java

```

```javascript
function* reverse(data) {  
let current = data.length;  
while (current >= 1) {  
current -= 1;  
yield data[current];  
}  
}  
  
for (let c of reverse("string")) {  
console.log(c);  
}  
//printed g, n, i, r, t, s  
  
for (let i of reverse([1, 2, 3])) {  
console.log(i);  
}  
//printed 3, 2, 1
```

```cs

```

```go

```
## Reverse iterators
```python
class Reverse:  
def __init__(self, data):  
self.data = data  
self.index = len(data)  
  
def __iter__(self):  
return self  
  
def __next__(self):  
if self.index == 0:  
raise StopIteration  
self.index -= 1  
return self.data[self.index]  
  
for c in Reverse("string"):  
print(c)  
# printed: g, n, i, r, t, s  
  
for i in Reverse([1, 2, 3]):  
print(i)  
# printed: 3, 2, 1
```

```java

```

```javascript

```

```cs

```

```go

```
## simple generator

```python
def counter(low, high, step):  
current = low  
while current <= high:  
yield current  
current += step  
  
for c in counter(3, 9, 2):  
print(c)  
  
# printed 3, 5, 7, 9
```

```java

```

```javascript
function* counter(low, high, step) {  
let current = low;  
while (current <= high) {  
yield current;  
current += step;  
}  
}  
  
for (let c of counter(3, 9, 2)) {  
console.log(c);  
}  
//printed 3, 5, 7, 9
```

```cs

```

```go

```
## simple iterator
```python
class Counter:  
def __init__(self, low, high, step):  
self.current = low  
self.high = high  
self.step = step  
  
def __iter__(self):  
return self  
  
def __next__(self):  
if self.current > self.high:  
raise StopIteration  
else:  
result = self.current  
self.current += self.step  
return result  
  
for c in Counter(3, 9, 2):  
print(c)  
  
# printed 3, 5, 7, 9
```

```java

```

```javascript

```

```cs

```

```go

```
