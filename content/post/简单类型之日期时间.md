---

title: "简单类型之日期时间"
date: 2019-10-26T12:00:00
lastmod: 2019-10-26T12:00:00
timezone: UTC+8
draft: false
tags: ["简单类型", "编程语言"]
categories: ["编程语言"]
author: "zyscn"

---

# 日期时间

## 从字符串转化

```python
from datetime import datetime  
from dateutil import parser  
  
# the first method  
stringDate = "1945-05-09 01:00"  
victoryDate = datetime.strptime(stringDate, "%Y-%m-%d %I:%M")  
  
# the second method  
victoryDate = parser.parse(stringDate)
```

```java
try {
    String stringDate = "1945-05-09 01:00";
    DateFormat format = new
SimpleDateFormat("yyyy-MM-dd hh:mm", Locale.getDefault());
    Date victoryDate = format.parse(stringDate);
}catch (ParseException e) {    e.printStackTrace();
}
```

```javascript
var stringDt = "1945-05-09 01:00";
stringDt = stringDt.replace(" ", "T");
//stringDate is "1945-05-09T01:00"
var victoryDt = new Date(stringDt);
//victoryDt is ‎5‎/‎9‎/‎1945‎ ‎1‎:‎00‎:‎00‎ ‎AM
//first method
var stringDate = "1945-05-09";
var victoryDate1 = new Date(stringDate);
//victoryDate1 is ‎5‎/‎9‎/‎1945‎ ‎12‎:‎00‎:‎00‎ ‎PM
//second method
//new Date(year, month [, day [, hours[, minutes[, seconds[, ms]]]]])
var parts = stringDate.split("-");
var victoryDate2 = new Date(    parts[0], parts[1] - 1, parts[2]);
//victoryDate2 is ‎5‎/‎9‎/‎1945‎ ‎12‎:‎00‎:‎00‎ ‎AM
```

```cs
//the first method
var stringDate = "1945-05-09 01:00";
var victoryDate = Convert.ToDateTime(stringDate);
//the second method
victoryDate = DateTime.Parse(stringDate);
//the third method
var formatter = new CultureInfo("en");
victoryDate = DateTime.ParseExact(stringDate,    "yyyy-MM-dd hh:mm", formatter);
```

```go
var stringDate = "1945-05-09 01:00"
var format = "2006-01-02 15:04"
victoryDate, err := time.Parse(format, stringDate)
```
## 获取当前日期

```python

from datetime import datetime  
import pytz  
  
now = datetime.datetime.now()  
  
utcDate = datetime.utcnow()  
# m_date current date in timezone UTC  
  
londonDate = datetime.now(pytz.timezone('Europe/London'))  
# m_date current date in timezone Europe/London +1:00  
  
pacificDate = datetime.now(pytz.timezone('Pacific/Wake'))  
# m_date current date in timezone Pacific/Wake +12:00
```

```java
Date now = new Date();
```


```javascript
Date now = new Date();
```

```cs
var now = DateTime.Now;
```


```go
var now = time.Now()
```

## 获取年月日

```python
no sample
```

```java
//example with LocalDate and LocalDateTime  
LocalDate now = LocalDate.now();  
LocalDateTime time = LocalDateTime.now();  
int year = now.getYear();  
int month = now.getMonth().getValue();  
int day = now.getDayOfMonth();  
int hour = time.getHour();  
int minute = time.getMinute();  
int second = time.getSecond();  
int dayOfWeek = now.getDayOfWeek().getValue();  
  
//example with Date  
Date now = new Date();  
Calendar cal = Calendar.getInstance();  
cal.setTime(now);  
int year = cal.get(Calendar.YEAR);  
int month = cal.get(Calendar.MONTH);  
int day = cal.get(Calendar.DAY_OF_MONTH);  
int hour = cal.get(Calendar.HOUR);  
int minute = cal.get(Calendar.MINUTE);  
int second = cal.get(Calendar.SECOND);  
int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);
```

```javascript
var now = new Date();  
var year = now.getFullYear();  
var month = now.getMonth();  
var day = now.getDate();  
var hour = now.getHours();  
var minute = now.getMinutes();  
var second = now.getSeconds();  
var dayOfWeek = now.getDay();
```

```cs
var now = DateTime.Now;  
var year = now.Year;  
var month = now.Month + 1;  
var day = now.Day;  
var hour = now.Hour;  
var minute = now.Minute;  
var second = now.Second;  
var dayOfWeek = now.DayOfWeek;
```

```go
var now = time.Now()  
var year = now.Year()  
var month = now.Month()  
var day = now.Day()  
var hour = now.Hour()  
var minute = now.Minute()  
var second = now.Second()  
var dayOfWeek = now.Weekday()
```
## 日期的比较

```python
from datetime import datetime  
from datetime import timedelta  
  
now = datetime.now()  
yesterday = now - timedelta(days=1)  
  
areEqual = now == yesterday  
# areEqual is False  
  
areLater = now > yesterday  
# areLater is True  
  
areEarlier = now < yesterday  
# areEarlier is False
```

```java
Date now = new Date();
Calendar cal = Calendar.getInstance();
cal.setTime(now);
cal.add(Calendar.DATE, -1);
Date yesterday = cal.getTime();
Boolean areEqual = now == yesterday;
//areEqual is false
Boolean areLater = now.after(yesterday);
//areLater is true
Boolean areEarlier = now.compareTo(yesterday) < 0;
//areEarlier is false
```

```javascript
var now = new Date();
var yesterday = new Date();
yesterday.setDate(now.getDate() - 1);
var areEqual = now === yesterday;
//areEqual is false
var areLater = now > yesterday;
//areLater is true
var areEarlier = now < yesterday;
//areEarlier is false
```

```cs
var now = DateTime.Now;  
var yesterday = now.AddDays(-1);  
  
var areEqual = now == yesterday;  
//areEqual is false  
  
var areLater = now > yesterday;  
//areLater is true  
  
var areEarlier = now < yesterday;  
//areEarlier is false
```
```go

var now = time.Now()  
var yesterday = now.Add(-24 * time.Hour)  
  
var areEqual = now == yesterday  
//areEqual is false  
  
var areLater = now.After(yesterday)  
//areLater is true  
  
var areEarlier = now.Before(yesterday)  
//areEarlier is false
```
## 日期更改

```python
from datetime import datetime
from datetime import timedelta
from dateutil.relativedelta import relativedelta now = datetime.today()
yesterday = now - timedelta(days=1)
tomorrow = now + timedelta(days=1)
nextMonth = now + relativedelta(months=1)
nextYear = now.replace(year=now.year + 1)
```

```java
//example with LocalDate  
LocalDate now = LocalDate.now();  
LocalDate yesterday = now.minusDays(1);  
LocalDate tomorrow = now.plusDays(1);  
LocalDate nextMonth = now.plusMonths(1);  
LocalDate nextYear = now.plusYears(1);  
  
//example with Date  
Date now = new Date();  
Calendar cal = Calendar.getInstance();  
cal.setTime(now);  
cal.add(Calendar.DATE, -1);  
Date yesterday = cal.getTime();  
  
cal.add(Calendar.DATE, 1);  
Date tomorrow = cal.getTime();  
  
cal.add(Calendar.MONTH, 1);  
Date nextMonth = cal.getTime();  
  
cal.add(Calendar.YEAR, 1);  
Date nextYear = cal.getTime();
```

```javascript

var now = new Date();  
  
var yesterday = new Date();  
yesterday.setDate(now.getDate() - 1);  
  
var tomorrow = new Date(  
now.getTime() + 24 * 60 * 60 * 1000);  
  
var nextMonth = new Date();  
nextMonth.setMonth(now.getMonth() + 1);  
  
var nextYear = new Date();  
nextYear.setYear(now.getFullYear() + 1);
```

```cs
var now = DateTime.Now;  
var yesterday = now.AddDays(-1);  
var tomorrow = now.AddDays(1);  
var nextMonth = now.AddMonths(1);  
var nextYear = now.AddYears(1);
```

```go
var now = time.Now()  
var yesterday = now.Add(-24 * time.Hour)  
var tomorrow = now.AddDate(0, 0, 1)  
var nextMonth = now.AddDate(0, 1, 0)  
var nextYear = now.AddDate(1, 0, 0)
```
## 日期时间差

```python
from datetime import datetime  
  
victoryDate = datetime(year=1945, month=5, day=9, hour=1)  
now = datetime.now()  
# now is 2017-06-05 14:09:52  
delta = now - victoryDate  
  
days = delta.days  
# days is 26325  
minutes = delta.seconds / 60  
# minutes is 789  
seconds = delta.seconds  
# secondsAgo is 47392
```

```java
Calendar cal = Calendar.getInstance();  
cal.set(1945, 4, 9, 0, 0, 0);  
Date victoryDate = cal.getTime();  
Date now = new Date();  
  
long days = getDateDiff(victoryDate,  
now, TimeUnit.DAYS);  
//days is 25731  
long minutes = getDateDiff(victoryDate,  
now, TimeUnit.MINUTES);  
//minutes is 37053603  
  
long getDateDiff(Date date1, Date date2, TimeUnit timeUnit) {  
long diffInMillies = date2.getTime() - date1.getTime();  
return timeUnit.convert(diffInMillies, TimeUnit.MILLISECONDS);  
}
```


```javascript
var victoryDate = new Date(1945, 4, 9);
var now = new Date();
var timeDiff = Math.abs(victoryDate - now);
var msPerDay = 1000 * 3600 * 24;var days = Math.floor(timeDiff / msPerDay);
//days is 26680
var msPerMinute = 1000 * 60;var minutes = Math.floor(timeDiff / msPerMinute);
//minutes is 38418424
```


```cs
var victoryDate = new DateTime(1945, 05, 9);
var now = DateTime.Now;
var delta = now - victoryDate;
var days = delta.Days;
//days is 25731
var minutes = delta.Minutes;
//minutes is 55
var totalMinutes = delta.TotalMinutes;
//totalMinutes is 37053603.78
```

```go
var victoryDate = time.Date(
    1945, 5, 9, 0, 0, 0, 0, time.UTC)
var now = time.Now()
var delta = now.Sub(victoryDate)
var days = delta.Hours() / 24
//days is 26865
var minutes = delta.Minutes()
//minutes is 3.868567537948e+07
var seconds = delta.Seconds()
//seconds is 2.3211405227688e+09
```
## 数据初始化

```python
from datetime import datetime
victoryDate = datetime(year=1945, month=5, day=9)
```

```java
Calendar cal = Calendar.getInstance();
cal.set(1945, 5, 9, 0, 0, 0);
Date victoryDate = cal.getTime();
```

```javascript
var year = 1945;
var month = 5;
var day = 9;
var victoryDate = new Date(    year, month - 1, day);
```

```cs
var victoryDate = new DateTime(1945, 05, 9);
```

```go
var victoryDate = time.Date(
    1945, 5, 9, 0, 0, 0, 0, time.UTC)
```

## 转换为字符串

```python
from datetime import datetime  
  
now = datetime.now()  
shortStyle = now.strftime("%m/%d/%y %H:%M %p")  
# shortStyle is "06/05/17 11:45 AM"  
  
customStyle = now.strftime("%Y-%m-%d")  
# customStyle is "2017-06-05"  
  
standartStyle = str(now)  
# customStyle is "2017-06-05 11:45:22.058697"  
  
strFormat = "Today {0:%d} {0:%B}.".format(datetime.now(), "day", "month")  
# m_string is Today 05 May.
```

```java
Date now = new Date();  
  
DateFormat df = new SimpleDateFormat("M/dd/YY h:mm a");  
String shortStyle = df.format(now);  
//shortStyle is "10/16/15 3:25 PM"  
  
df = new SimpleDateFormat("yyyy-MM-dd");  
String customStyle = df.format(now);  
//customStyle is 2015-10-16
```

```javascript
var now = new Date();  
  
var options = {  
year: "2-digit",  
month: "2-digit",  
day: "2-digit",  
hour: "numeric",  
minute: "2-digit"  
};  
var shortStyleEn = now  
.toLocaleDateString("en-US", options);  
//shortStyleEn is "‎‎05‎/‎24‎/‎18‎ ‎5‎:‎36‎ ‎PM"  
  
options.hour = "2-digit";  
var shortStyleRu = now  
.toLocaleDateString("ru-Ru", options);  
//shortStyleRu is "‎‎‎25‎.‎05‎.‎18‎ 0‎8‎:‎54"  
  
var customStyle = now.toJSON().slice(0, 10);  
//customStyle is 2018-05-24
```

```cs
var now = DateTime.Now;  
  
var shortStyle = string.Format("{0:d} {0:t}", now);  
//shortStyle is "6/22/15, 4:10 PM"  
  
var customStyle = now.ToString("yyyy-MM-dd");  
//customStyle is "2015-06-22"
```

```go
var now = time.Now()  
  
var shortStyle = now.Format("1/2/06, 3:04 PM")  
//shortStyle is "11/26/18, 4:53 PM"  
  
var customStyle = now.Format("2006-01-02")  
//customStyle is "2018-11-26"
```
